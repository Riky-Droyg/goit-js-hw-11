{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport function fetchImages(query) {\n  return axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        key: '53591790-b582ea9c542996630b69812e5',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(response => response.data.hits);\n}\n","import { fetchImages } from './pixabay-api';\nimport SimpleLightbox from 'simplelightbox';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.photo-card div a', {});\n\nexport function getImagesByQuery(query) {\n  return fetchImages(query)\n    .then(data => {\n      if (!data.length) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      return data;\n    })\n}\n\nexport function createGallery(array) {\n  const markup = array.reduce(\n    (\n      acc,\n      { likes, views, comments, downloads, previewURL, largeImageURL, tags }\n    ) =>\n      acc +\n      `<li class=\"photo-card\">\n        <div>\n          <a href=\"${largeImageURL}\">\n            <img src=\"${previewURL}\" alt=\"${tags}\">\n          </a>\n        </div>\n        <ul>\n          <li><p>Likes:<br>${likes}</p></li>\n          <li><p>Views:<br>${views}</p></li>\n          <li><p>Comments:<br>${comments}</p></li>\n          <li><p>Downloads:<br>${downloads}</p></li>\n        </ul>\n      </li>`,\n    ''\n  );\n\n  gallery.innerHTML = markup;\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = ``;\n}\n\nexport function hideLoader() {\n  loader.classList.add('is-hidden');\n}\nexport function showLoader() {\n  loader.classList.remove('is-hidden');\n}\n","// У файлі main.js напиши всю логіку роботи додатка. Виклики нотифікацій iziToast, усі перевірки на довжину масиву в отриманій відповіді робимо саме в цьому файлі. Імпортуй в нього функції із файлів pixabay-api.js та render-functions.js та викликай їх у відповідний момент.\n\nimport './css/style.css';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport './js/pixabay-api';\nimport './js/render-functions';\nimport {\n  clearGallery,\n  createGallery,\n  getImagesByQuery,\n  hideLoader,\n  showLoader,\n} from './js/render-functions';\nimport iziToast from 'izitoast';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const input = event.target.elements['search-text'].value.trim();\n  if (!input) {\n    iziToast.info({\n        title: 'info',\n        message:\n          'Поле вводу порожнє',\n        position: 'topRight',\n      });\n      return\n  };\n\n  clearGallery();\n  showLoader();\n  getImagesByQuery(input)\n    .then(result => createGallery(result))\n\n    .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n"],"names":["fetchImages","query","axios","response","gallery","loader","lightbox","SimpleLightbox","getImagesByQuery","data","createGallery","array","markup","acc","likes","views","comments","downloads","previewURL","largeImageURL","tags","clearGallery","hideLoader","showLoader","form","event","input","iziToast","result","error"],"mappings":"owBAEO,SAASA,EAAYC,EAAO,CACjC,OAAOC,EACJ,IAAI,2BAA4B,CAC/B,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKE,GAAYA,EAAS,KAAK,IAAI,CACxC,CCXA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,oBAAqB,CAAE,CAAA,EAEpD,SAASC,EAAiBP,EAAO,CACtC,OAAOD,EAAYC,CAAK,EACrB,KAAKQ,GAAQ,CACZ,GAAI,CAACA,EAAK,OACR,MAAM,IAAI,MACR,0EACV,EAEM,OAAOA,CACb,CAAK,CACL,CAEO,SAASC,EAAcC,EAAO,CACnC,MAAMC,EAASD,EAAM,OACnB,CACEE,EACA,CAAE,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,EAAW,WAAAC,EAAY,cAAAC,EAAe,KAAAC,CAAM,IAEtEP,EACA;AAAA;AAAA,qBAEeM,CAAa;AAAA,wBACVD,CAAU,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,6BAInBN,CAAK;AAAA,6BACLC,CAAK;AAAA,gCACFC,CAAQ;AAAA,iCACPC,CAAS;AAAA;AAAA,aAGtC,EACJ,EAEEb,EAAQ,UAAYQ,EACpBN,EAAS,QAAO,CAClB,CAEO,SAASe,GAAe,CAC7BjB,EAAQ,UAAY,EACtB,CAEO,SAASkB,GAAa,CAC3BjB,EAAO,UAAU,IAAI,WAAW,CAClC,CACO,SAASkB,GAAa,CAC3BlB,EAAO,UAAU,OAAO,WAAW,CACrC,CCvCA,MAAMmB,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OACzD,GAAI,CAACC,EAAO,CACVC,EAAS,KAAK,CACV,MAAO,OACP,QACE,qBACF,SAAU,UAClB,CAAO,EACD,MAEN,CACEN,IACAE,IACAf,EAAiBkB,CAAK,EACnB,KAAKE,GAAUlB,EAAckB,CAAM,CAAC,EAEpC,MAAMC,GAAS,CACdF,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbL,GACN,CAAK,CACL,CAAC"}